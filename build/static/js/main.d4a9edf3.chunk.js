(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),i=a.n(r),s=(a(16),a(7)),o=a(4),u=a(5),c=a(8),m=a(6),d=a(1),h=a(9),b=(a(17),function(e){return l.a.createElement("h2",{className:"clock"},e.time)}),v=function(e){return l.a.createElement("table",{className:"alarms-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u0413\u043e\u0434\u0438\u043d\u0430"),l.a.createElement("th",null,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"))),l.a.createElement("tbody",null,e.setAlarms.map(function(t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),l.a.createElement("td",{onClick:function(){return e.deleteAlarm(t)},className:"table__delete-alarms"},"x"))})))},A=function(e){return l.a.createElement("div",null,l.a.createElement("label",{className:"what-time-alarm"},"\u0413\u043e\u0434\u0438\u043d\u0430 \u0431\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u0430:",l.a.createElement("input",{type:"time",value:e.value,onChange:e.change,className:"time-alarm",onKeyPress:e.handleEnterPress})),e.setAlarms.length>0&&l.a.createElement("div",null,l.a.createElement("h3",null,"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u0431\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u0438:"),l.a.createElement(v,{setAlarms:e.setAlarms,deleteAlarm:e.deleteAlarm})),l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{onClick:e.setTime,className:"buttons__left button"},"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438"),e.visibleButtonPauseAudio&&l.a.createElement("button",{onClick:e.stopAlarm,className:"buttons__right button"},"\u0412\u0438\u043a\u043b\u044e\u0447\u0438\u0442\u0438")))},f=function(e){return l.a.createElement("h1",{className:"title"},e.children)},p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleEnterPress=function(e){"Enter"===e.key&&a.alarm\u0421lock()},a.state={time:(new Date).toLocaleTimeString(),controllTime:"",setAlarms:[],visibleButtonPauseAudio:!1},a.url="http://streaming.tdiradio.com:8000/house.mp3",a.audio=new Audio(a.url),a.timer=a.timer.bind(Object(d.a)(a)),a.onChange=a.onChange.bind(Object(d.a)(a)),a.alarm\u0421lock=a.alarm\u0421lock.bind(Object(d.a)(a)),a.compareAlarm=a.compareAlarm.bind(Object(d.a)(a)),a.stopAlarm=a.stopAlarm.bind(Object(d.a)(a)),a.deleteAlarm=a.deleteAlarm.bind(Object(d.a)(a)),a.handleEnterPress=a.handleEnterPress.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){setInterval(this.timer,1e3),document.body.style.backgroundImage="url(https://source.unsplash.com/random/1600x900/?city)"}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"componentWillUpdate",value:function(){null!==this.state.time&&"00"===this.state.time.split(":")[2]&&this.compareAlarm()}},{key:"timer",value:function(){var e=(new Date).toLocaleTimeString();this.setState({time:e.toString()})}},{key:"onChange",value:function(e){this.setState({controllTime:e.target.value})}},{key:"alarm\u0421lock",value:function(){if(""!==this.state.controllTime){var e=this.state.controllTime.split(":"),t=new Date;t.setHours(e[0]),t.setMinutes(e[1]),this.setState(function(e){return{controllTime:"",setAlarms:[].concat(Object(s.a)(e.setAlarms),[t])}})}}},{key:"compareAlarm",value:function(){var e=this,t=this.state,a=t.time,n=t.setAlarms;if(!(null===a||n.length<1)){var l=a.split(":"),r=!0,i=!1,s=void 0;try{for(var o,u=function(){var t=o.value;+l[0]===t.getHours()&&+l[1]===t.getMinutes()?(e.audio.play(),e.setState({visibleButtonPauseAudio:!0}),setTimeout(function(){var a=e.state.setAlarms.filter(function(e){return t!==e});e.setState({setAlarms:a,visibleButtonPauseAudio:!1})},6e4)):(e.audio.pause(),e.setState({visibleButtonPauseAudio:!1}))},c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u()}catch(m){i=!0,s=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw s}}}}},{key:"stopAlarm",value:function(){this.audio.pause(),this.setState({visibleButtonPauseAudio:!1})}},{key:"deleteAlarm",value:function(e){var t=this.state.setAlarms.filter(function(t){return t!==e});this.setState({setAlarms:t})}},{key:"render",value:function(){var e=this.state,t=e.controllTime,a=e.time,n=e.setAlarms,r=e.visibleButtonPauseAudio;return l.a.createElement("div",{className:"page"},l.a.createElement(f,null,"\u0411\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a"),l.a.createElement(b,{time:a}),l.a.createElement(A,{value:t,change:this.onChange,setTime:this.alarm\u0421lock,stopAlarm:this.stopAlarm,setAlarms:n,deleteAlarm:this.deleteAlarm,visibleButtonPauseAudio:r,handleEnterPress:this.handleEnterPress}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.d4a9edf3.chunk.js.map